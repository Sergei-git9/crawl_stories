<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="utf-8">
  <title>История — CRAWL.STORIES</title>
  <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-firestore-compat.js"></script>
  <style>
    body { background:#020205; color:#fff; font-family:'Courier New'; padding:20px; }
    .cover-big { width:100%; max-width:600px; border-radius:16px; margin:20px auto; display:block; }
    .title { font-size:32px; color:#FFE81F; text-align:center; }
  </style>
</head>
<body>
  <h1 class="title" id="title">Загрузка...</h1>
  <img id="cover" class="cover-big" src="" alt="">
  <p id="desc"></p>
  <button onclick="location.href='reader.html?story='+new URLSearchParams(location.search).get('id')">
    Начать читать →
  </button>

  <script>
    const urlParams = new URLSearchParams(location.search);
    const storyId = urlParams.get('id');
    db.collection("stories").doc(storyId).get().then(doc => {
      if (doc.exists) {
        const d = doc.data();
        document.getElementById("title").textContent = d.title;
        document.getElementById("cover").src = d.cover || "https://via.placeholder.com/600x800/111/333?text=CRAWL";
        document.getElementById("desc").textContent = d.description || "Нет описания";
      }
    });
  </script>
  <script src="themes-system.js"></script>
</body>
</html>